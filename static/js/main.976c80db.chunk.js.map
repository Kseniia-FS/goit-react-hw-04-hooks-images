{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","ApiService/fetchImages.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","App.js","index.js"],"names":["module","exports","fetchImages","query","page","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","state","value","handleInputChange","e","setState","currentTarget","handleOnSubmit","preventDefault","trim","props","handleSubmit","clearInput","toast","error","input","className","s","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","id","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","tag","webformatURL","onSelect","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","index","tags","largeImageURL","modalRoot","document","querySelector","Modal","closeModal","window","addEventListener","handleCloseModal","code","removeEventListener","createPortal","Overlay","target","LoaderIcon","bgColor","title","size","Button","handleClick","wrapper","App","useState","setQuery","selectedImage","setSelectedImage","setImages","setPage","isLoading","setIsLoading","useEffect","data","hits","length","prevState","handleScroll","catch","console","log","message","finally","scrollTo","top","documentElement","scrollHeight","behavior","notLastPage","showBtn","NewQuery","imageUrl","Loader","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.976c80db.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\",\"wrapper\":\"Button_wrapper__1pHwk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","const fetchImages = (query, page) => {\n  return fetch(`https://pixabay.com/api/?q=${query}&page=${page}&key=22576222-4c579c663b204aa5d73730e1c&image_type=photo&orientation=horizontal&per_page=12\n`).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(\"OOOps!\"));\n  });\n};\n\nexport default fetchImages;\n","import React, { Component } from \"react\";\nimport s from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass Searchbar extends Component {\n  state = {\n    value: \"\",\n  };\n\n  handleInputChange = (e) => {\n    this.setState({ value: e.currentTarget.value });\n  };\n  handleOnSubmit = (e) => {\n    e.preventDefault();\n\n    const { value } = this.state;\n    if (value.trim() === \"\") {\n      toast.error(\"Write correct query\");\n      return;\n    }\n    this.props.handleSubmit(value);\n    this.setState({ value: \"\" });\n    this.clearInput(e);\n  };\n\n  clearInput = (e) => {\n    e.currentTarget.input.value = \"\";\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleOnSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            id=\"input\"\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ tag, webformatURL, onSelect }) => {\n  return (\n    <li onClick={onSelect} className={s.ImageGalleryItem}>\n      <img src={webformatURL} alt={tag} className={s.ImageGalleryItemImage} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import ImagesGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, onSelect }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images &&\n        images.map(({ webformatURL, tags, largeImageURL }, index) => {\n          return (\n            <ImagesGalleryItem\n              key={index}\n              webformatURL={webformatURL}\n              tag={tags}\n              onSelect={() => onSelect(largeImageURL)}\n            />\n          );\n        })}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal\");\n\nexport const Modal = ({ closeModal, src }) => {\n  const handleBackDropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      closeModal();\n    }\n  };\n\n  const handleCloseModal = (e) => {\n    if (e.code === \"Escape\") {\n      closeModal();\n      window.removeEventListener(\"keydown\", handleCloseModal);\n    }\n  };\n  window.addEventListener(\"keydown\", handleCloseModal);\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackDropClick}>\n      <div className={s.Modal}>\n        <img src={src} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot\n  );\n};\n","import Loader from \"react-js-loader\";\n\nconst LoaderIcon = () => {\n  return (\n    <div>\n      <Loader type=\"heart\" bgColor={\"#8406ec\"} title={\"heart\"} size={300} />\n    </div>\n  );\n};\n\nexport default LoaderIcon;\n","import s from \"./Button.module.css\";\n\nconst Button = ({ handleClick }) => {\n  return (\n    <div className={s.wrapper}>\n      <button className={s.Button} type=\"button\" onClick={handleClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"./App.css\";\nimport fetchImages from \"./ApiService/fetchImages\";\nimport { toast } from \"react-toastify\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGalerry from \"./components/ImageGallery/ImageGallery\";\nimport { Modal } from \"./components/Modal/Modal\";\nimport LoaderIcon from \"./components/Loader/Loader\";\nimport Button from \"./components/Button/Button\";\n\nexport const App = () => {\n  const [query, setQuery] = useState(\"\");\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    const getImages = () => {\n      setIsLoading(true);\n\n      fetchImages(query, page)\n        .then((data) => {\n          if (data.hits.length === 0) {\n            toast.error(`Ooops, we cant't find such query! Try again.`);\n            return;\n          }\n\n          setImages((prevState) => [...prevState, ...data.hits]);\n        })\n        .then(handleScroll)\n        .catch((error) => console.log(error.message))\n        .finally(() => setIsLoading(false));\n    };\n\n    getImages();\n  }, [query, page]);\n\n  const handleSelectedImage = (imageUrl) => {\n    setSelectedImage(imageUrl);\n  };\n\n  const handleCloseModal = () => {\n    setSelectedImage(null);\n  };\n\n  const handleClick = () => {\n    setPage((prevState) => prevState + 1);\n  };\n\n  const handleSubmit = (NewQuery) => {\n    if (NewQuery === query) {\n      return;\n    }\n    setQuery(NewQuery);\n    setPage(1);\n    setImages([]);\n  };\n\n  const handleScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const notLastPage = images.length / page === 12;\n  const showBtn = images.length > 0 && notLastPage;\n  return (\n    <>\n      <Searchbar handleSubmit={handleSubmit} />\n      <ImageGalerry images={images} onSelect={handleSelectedImage} />\n      {selectedImage && (\n        <Modal src={selectedImage} closeModal={handleCloseModal} />\n      )}\n      {isLoading && <LoaderIcon />}\n      {showBtn && <Button handleClick={handleClick} />}\n\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}